(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{45:function(n,e,t){n.exports=t(79)},79:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(16),c=t.n(o),i=t(6),u=t(7),l=t(12),s=t(10),d=t(13),p=t(1),f={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},h={background:"#EAEAEA",backgroundSecondary:"#F8F8F8",text:"#848886",textSecondary:"#aaaaaa",border:"#EAEAEA"},m=t(34),g=t.n(m),b=t(35),y=t.n(b),v=function(n){var e="";return n&&(n.includes("//")||(n="http://".concat(n)),e=y.a.parse(n).hostname),e.includes("www.")&&(e=e.split("www.")[1]),e},E="https://news.ycombinator.com",O="".concat(E,"/item?id="),x="".concat(E,"/user?id="),j=function(n){var e=n.url,t=n.id,r="".concat(O).concat(t);return e||r},S=t(2);function w(){var n=Object(S.a)(["\n  color: ",";\n\n  &:visited {\n    color: ",";\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(S.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return k=function(){return n},n}function T(){var n=Object(S.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return T=function(){return n},n}function _(){var n=Object(S.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return _=function(){return n},n}function R(){var n=Object(S.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"]);return R=function(){return n},n}function C(){var n=Object(S.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return C=function(){return n},n}var I=p.c.li(C(),(function(n){return n.theme.border})),P=p.c.h3(R(),(function(n){return n.theme.text})),U=p.c.span(_(),(function(n){return n.theme.textSecondary})),A=p.c.a(T(),(function(n){return n.theme.text})),L=p.c.div(k(),(function(n){return n.theme.textSecondary})),D=p.c.a(w(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.textSecondary})),N="nofollow noreferrer noopener",H=function(n){var e=n.by,t=n.kids,r=void 0===t?[]:t,o=n.score,c=n.url,i=n.title,u=n.id,l=(n.type,n.time),s=v(c)||"news.ycombinator.com",d=j({url:c,id:u}),p="".concat(O).concat(u),f="".concat(x).concat(e);return a.a.createElement(I,null,a.a.createElement(A,{href:d,rel:N,target:"_blank"},a.a.createElement(P,null,i," ",a.a.createElement(U,null,s))),a.a.createElement(L,null,o," points by"," ",a.a.createElement(D,{href:f,rel:N,target:"_blank"},e)," ",a.a.createElement(g.a,{date:new Date(1e3*l).toISOString()})," | ",a.a.createElement(D,{href:p,rel:N,target:"_blank"},r.length," Comments")))};function F(){var n=Object(S.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return F=function(){return n},n}var Q=p.c.ul(F(),(function(n){return n.theme.backgroundSecondary})),z=function(n){var e=n.stories;return a.a.createElement(Q,null,e.map((function(n){return a.a.createElement(H,Object.assign({key:n.id},n))})))};function B(){var n=Object(S.a)(["\n  color: ",";\n  border-top: 1px solid ",";\n  padding: 16px;\n"]);return B=function(){return n},n}function Y(){var n=Object(S.a)(["\n  color: ",";\n  margin: 0;\n  padding: 16px;\n  /* padding-bottom: 70px; */\n  font-size: 16px;\n  font-weight: 400;\n  flex-grow: 1;\n"]);return Y=function(){return n},n}function M(){var n=Object(S.a)(["\n  background-color: ",";\n  border-bottom-left-radius: ","px;\n  border-bottom-right-radius: ","px;\n  word-break: break-word;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return M=function(){return n},n}function G(){var n=Object(S.a)(["\n  display: block;\n  height: 180px;\n  max-width: 100%;\n  border-top-left-radius: ","px;\n  border-top-right-radius: ","px;\n  object-fit: cover;\n"]);return G=function(){return n},n}function J(){var n=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return J=function(){return n},n}function V(){var n=Object(S.a)(["\n  flex-direction: column;\n  display: flex;\n  height: 100%;\n"]);return V=function(){return n},n}function W(){var n=Object(S.a)(["\n  height: 100%;\n"]);return W=function(){return n},n}var X=p.c.li(W()),$=p.c.div(V()),q=(p.c.a(J()),p.c.img(G(),4,4)),K=p.c.div(M(),(function(n){return n.theme.backgroundSecondary}),4,4),Z=p.c.h3(Y(),(function(n){return n.theme.text})),nn=p.c.div(B(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.border})),en=function(n){var e=n.url,t=n.title,r=n.id,o=v(e)||"news.ycombinator.com",c=j({url:e,id:r});return a.a.createElement("a",{href:c,target:"_blank",rel:"nofollow noreferrer nofollow"},a.a.createElement(X,null,a.a.createElement($,null,a.a.createElement(q,{src:"https://miro.medium.com/max/1176/1*F9RzuXseG1VrTjFJd403gw.png"}),a.a.createElement(K,null,a.a.createElement(Z,null,t),a.a.createElement(nn,null,a.a.createElement("div",null,"// ".concat(o)))))))},tn="@media only screen and (max-width: 760px)";function rn(){var n=Object(S.a)(["\n  display: flex;\n  margin-bottom: 20px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n  "," {\n    grid-template-columns: repeat(4, 1fr);\n  }\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  "," {\n    grid-template-columns: 1fr;\n  }\n"]);return rn=function(){return n},n}var an=p.c.ul(rn(),"@media only screen and (max-width: 1400px)",tn,"@media only screen and (max-width: 480px)"),on=function(n){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,n),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement(an,null,this.props.stories.map((function(n){return a.a.createElement(en,Object.assign({key:n.id},n))})))}}]),e}(r.Component);function cn(){var n=Object(S.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 24px;\n  margin-bottom: 26px;\n"]);return cn=function(){return n},n}function un(){var n=Object(S.a)(["\n  width: 85%;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  /* padding-bottom: 200px; */\n  padding: 0 10px 50px;\n  text-align: center;\n\n  "," {\n    width: 96%;\n  }\n"]);return un=function(){return n},n}var ln=p.c.div(un(),tn),sn=(p.c.h1(cn(),(function(n){return n.theme.textSecondary})),t(8)),dn=t(14),pn=t.n(dn),fn=t(22),hn=t(39),mn=t.n(hn),gn=Object({NODE_ENV:"production",PUBLIC_URL:"/news-reader"}).URL||"http://localhost:3000/",bn=2e4,yn={"Content-Type":"application/json",Accept:"application/json"},vn=new(function(){function n(e){var t=e.baseURL,r=void 0===t?gn:t,a=e.timeout,o=void 0===a?bn:a,c=e.headers,u=void 0===c?yn:c,l=e.auth;Object(i.a)(this,n);var s=mn.a.create({baseURL:r,timeout:o,headers:u,auth:l});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}return Object(u.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then((function(n){return n.data}))}},{key:"post",value:function(n,e){return this.client.post(n,e).then((function(n){return n.data}))}},{key:"put",value:function(n,e){return this.client.put(n,e).then((function(n){return n.data}))}},{key:"patch",value:function(n,e){return this.client.patch(n,e).then((function(n){return n.data}))}},{key:"delete",value:function(n){return this.client.delete(n).then((function(n){return n.data}))}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),En={};En.getTopStoryIds=function(){return vn.get("/topstories".concat(".json?print=pretty"))},En.getStory=function(n){return vn.get("/item/".concat(n).concat(".json?print=pretty"))},En.getStoriesByPage=function(n,e){var t=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:e*n,end:(e+1)*n}}(20,e),r=function(n){var e=n.begin,t=n.end;return n.items.slice(e,t)}({begin:t.begin,end:t.end,items:n}).map((function(n){return En.getStory(n)}));return Promise.all(r)};var On=En,xn=(t(78),"@newsReader/story"),jn={FETCH_STORY_IDS_REQUEST:"".concat(xn,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORIES_REQUEST:"".concat(xn,"/FETCH_STORIES_REQUEST"),CLEAN_STORIES_REQUEST:"".concat(xn,"/CLEAN_STORIES_REQUEST")},Sn=function(n,e){return{type:n,payload:e}},wn=function(n,e){return function(){var t=Object(fn.a)(pn.a.mark((function t(r){var a;return pn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetch stories called"),t.next=3,On.getStoriesByPage(n,e);case 3:a=t.sent,r(Sn(jn.FETCH_STORIES_REQUEST,{stories:a,page:e}));case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()};function kn(){var n=Object(S.a)(["\n  text-align: center;\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    /**\n    * Use the blink animation, which is defined above\n    */\n    animation-name: ",";\n    /**\n    * The total time of animation\n    */\n    animation-duration: 1s;\n    /**\n    * It will repeat itself forever\n    */\n    animation-iteration-count: infinite;\n    /**\n    * This makes sure that the starting style (opacity: .2)\n    * of the animation is applied before the animation starts.\n    * Otherwise we would see a short flash or would have\n    * to set the default styling of the dots to the same\n    * as the animation. Same applies for the ending styles.\n    */\n    animation-fill-mode: both;\n  }\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"]);return kn=function(){return n},n}function Tn(){var n=Object(S.a)(["\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n"]);return Tn=function(){return n},n}var _n=Object(p.d)(Tn()),Rn=p.c.div(kn(),(function(n){return n.theme.textSecondary}),_n),Cn=function(){return a.a.createElement(Rn,null,a.a.createElement("span",null,"."),a.a.createElement("span",null,"."),a.a.createElement("span",null,"."))};function In(){var n=Object(S.a)(["\n  background-color: transparent;\n  display: inline-block;\n  border: 2px solid ",";\n  border-radius: 4px;\n  color: ",";\n  text-align: center;\n  text-decoration: none;\n  padding: 10px 15px;\n  margin-left: 5px;\n  margin-right: 5px;\n"]);return In=function(){return n},n}function Pn(){var n=Object(S.a)(["\n  margin-top: 50px;\n"]);return Pn=function(){return n},n}var Un=p.c.div(Pn()),An=p.c.button(In(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.text})),Ln=function(n){function e(){var n,t;Object(i.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(l.a)(this,(n=Object(s.a)(e)).call.apply(n,[this].concat(a)))).onPageClicked=function(n){"pre"===n&&t.props.page>0&&(t.props.cleanStories(),t.props.fetchStories(t.props.storyIds,t.props.page-1)),"next"===n&&t.props.page<25&&(t.props.cleanStories(),t.props.fetchStories(t.props.storyIds,t.props.page+1))},t}return Object(d.a)(e,n),Object(u.a)(e,[{key:"render",value:function(){var n=this;return a.a.createElement(Un,null,a.a.createElement(An,{onClick:function(){return n.onPageClicked("pre")}},a.a.createElement("i",{className:"fas fa-chevron-left"}),"  Prev"),a.a.createElement(An,{onClick:function(){return n.onPageClicked("next")}},"Next  ",a.a.createElement("i",{className:"fas fa-chevron-right"})))}}]),e}(a.a.Component),Dn=Object(sn.b)((function(n){return{page:n.story.page,storyIds:n.story.storyIds}}),{fetchStories:wn,cleanStories:function(){return Sn(jn.CLEAN_STORIES_REQUEST,{})}})(Ln),Nn={SET_THEME:"".concat("@newsReader/app","/SET_THEME"),SET_LAYOUT:"".concat("@newsReader/app","/SET_LAYOUT")},Hn={setTheme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Nn.SET_THEME,payload:n}},setLayout:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Nn.SET_LAYOUT,payload:n}}};function Fn(){var n=Object(S.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n  margin-top: 24px;\n  margin-bottom: 26px;\n"]);return Fn=function(){return n},n}function Qn(){var n=Object(S.a)(["\n  margin-left: 12px;\n  font-size: 18px;\n  cursor: pointer;\n"]);return Qn=function(){return n},n}function zn(){var n=Object(S.a)(["\n  display: flex;\n  align-items: center;\n"]);return zn=function(){return n},n}function Bn(){var n=Object(S.a)(["\n  /* background-color: ","; */\n  height: ","px;\n  color: ",";\n\n  /* height: 100%; */\n  width: 100%;\n  max-width: 85%;\n  margin: 20px auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  "," {\n    max-width: 96%;\n  }\n"]);return Bn=function(){return n},n}var Yn=p.c.div(Bn(),(function(n){return n.theme.backgroundSecondary}),48,(function(n){return n.theme.text}),tn),Mn=p.c.div(zn()),Gn=p.c.div(Qn()),Jn=p.c.h1(Fn(),(function(n){return n.theme.textSecondary})),Vn=Object(sn.b)((function(n){return{layout:n.app.layout,theme:n.app.theme}}),Hn)((function(n){var e=n.layout,t=n.theme,r=n.setLayout,o=n.setTheme;return a.a.createElement(Yn,null,a.a.createElement(Jn,null,"Hacker News Reader"),a.a.createElement(Mn,null,"dark"===t?a.a.createElement(Gn,{onClick:function(){return o("light")}},a.a.createElement("i",{className:"fas fa-sun"})):a.a.createElement(Gn,{onClick:function(){return o("dark")}},a.a.createElement("i",{className:"fas fa-moon"})),"grid"===e?a.a.createElement(Gn,{onClick:function(){return r("list")}},a.a.createElement("i",{className:"fas fa-th-list"})):a.a.createElement(Gn,{onClick:function(){return r("grid")}},a.a.createElement("i",{className:"fas fa-th-large"}))))})),Wn=function(n){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,n),Object(u.a)(e,[{key:"componentDidMount",value:function(){console.log("fetched"),this.props.fetchStoryIds()}},{key:"renderList",value:function(n){return n.length>0?a.a.createElement(z,{stories:n}):a.a.createElement(Cn,null)}},{key:"renderGrid",value:function(n){return n.length>0?a.a.createElement(on,{stories:n}):a.a.createElement(Cn,null)}},{key:"handlePageClick",value:function(){}},{key:"componentDidUpdate",value:function(n){n.theme!==this.props.theme&&this.setBodyBackgroundColor()}},{key:"setBodyBackgroundColor",value:function(){"light"===this.props.theme?document.body.style="background-color: ".concat(h.background,";"):document.body.style="background-color: ".concat(f.background,";")}},{key:"render",value:function(){var n=this.props,e=n.stories,t=n.theme,r=n.layout;return a.a.createElement(p.a,{theme:"dark"==t?f:h},a.a.createElement("div",null,a.a.createElement(ln,null,a.a.createElement(Vn,null),"list"===r?this.renderList(e):this.renderGrid(e),a.a.createElement(Dn,null))))}}]),e}(a.a.Component),Xn=Object(sn.b)((function(n){return console.log("state"),console.log(n),{stories:n.story.stories,theme:n.app.theme,layout:n.app.layout}}),{fetchStoryIds:function(){return function(){var n=Object(fn.a)(pn.a.mark((function n(e){var t;return pn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,On.getTopStoryIds();case 2:t=n.sent,e(Sn(jn.FETCH_STORY_IDS_REQUEST,{storyIds:t})),e(wn(t,0));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},fetchStories:wn})(Wn);function $n(){var n=Object(S.a)(["\n    * {\n      box-sizing: border-box;\n    }\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n    }\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n    a {\n      text-decoration: none;\n      &:visited {\n        color: inherit;\n      }\n    }\n  "]);return $n=function(){return n},n}var qn=Object(p.b)($n()),Kn=t(4),Zn=t(17);function ne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function ee(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ne(t,!0).forEach((function(e){Object(Zn.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ne(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var te=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"light",layout:"list"},e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case Nn.SET_THEME:return ee({},n,{theme:r});case Nn.SET_LAYOUT:return ee({},n,{layout:r});default:return n}},re=t(42);function ae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function oe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ae(t,!0).forEach((function(e){Object(Zn.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ae(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var ce=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case jn.FETCH_STORY_IDS_REQUEST:return oe({},n,{},r);case jn.FETCH_STORIES_REQUEST:return oe({},n,{stories:Object(re.a)(r.stories),page:r.page});case jn.CLEAN_STORIES_REQUEST:return oe({},n,{stories:[]});default:return n}},ie=Object(Kn.c)({app:te,story:ce}),ue=t(40),le=(t(41),[]);le.push(ue.a);var se=Object(Kn.d)(Kn.a.apply(void 0,le)),de=function(n){return Object(Kn.e)(ie,n,se)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));On.getTopStoryIds().then((function(n){return console.log(n)}));!function(){var n=de({});n.dispatch({type:"@newsReader/@@INIT"}),c.a.render(a.a.createElement(sn.a,{store:n},a.a.createElement("div",null,a.a.createElement(qn,null),a.a.createElement(Xn,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.91c6f474.chunk.js.map